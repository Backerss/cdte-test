<%
  // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà login (‡∏à‡∏≤‡∏Å session)
  const userName = user.firstName && user.lastName 
    ? `${user.firstName} ${user.lastName}` 
    : user.studentId || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ';
  const userYear = user.year || 1;
  
  // Check if user is pure admin (admin role without student ID)
  const isPureAdmin = user && user.role === 'admin' && !user.studentId;
  
  // Check if user is admin or teacher (for showing admin dashboard)
  const isAdminOrTeacher = user && (user.role === 'admin' || user.role === 'teacher');
%>

<div class="dashboard-welcome">
  <% if (isAdminOrTeacher) { %>
    <!-- Admin/Teacher Dashboard -->
    <div class="card greeting-card" style="margin-bottom:24px;background:linear-gradient(135deg, #2E3094 0%, #1e2169 100%);border:none;color:white;">
      <h2 style="margin:0 0 12px 0;color:white;font-size:1.75rem">
        <% if (user.role === 'admin') { %>
          ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö üîß
        <% } else { %>
          ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, ‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå <%= user.firstName %> üë®‚Äçüè´
        <% } %>
      </h2>
      <p style="color:white;margin:0 0 8px 0;font-size:1.1rem;opacity:0.9">
        <strong>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</strong>
      </p>
      <p style="color:white;margin:0;font-size:0.95rem;opacity:0.8">
        <%= new Date().toLocaleDateString('th-TH', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' }) %>
      </p>
    </div>

    <!-- Admin Statistics Cards -->
    <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:20px;margin-bottom:24px;">
      <!-- Active Observations -->
      <div class="card" style="background:linear-gradient(135deg, #16A34A 0%, #15803d 100%);color:white;border:none;">
        <div style="display:flex;justify-content:space-between;align-items:start;">
          <div>
            <p style="margin:0 0 8px 0;font-size:0.9rem;opacity:0.9;">‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</p>
            <h2 id="activeObservationsCount" style="margin:0;font-size:2.5rem;font-weight:700;">-</h2>
            <p style="margin:8px 0 0 0;font-size:0.85rem;opacity:0.8;">‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏</p>
          </div>
          <div style="font-size:3rem;opacity:0.5;">üëÅÔ∏è</div>
        </div>
      </div>

      <!-- Total Students -->
      <div class="card" style="background:linear-gradient(135deg, #3B82F6 0%, #2563eb 100%);color:white;border:none;">
        <div style="display:flex;justify-content:space-between;align-items:start;">
          <div>
            <p style="margin:0 0 8px 0;font-size:0.9rem;opacity:0.9;">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
            <h2 id="totalStudentsCount" style="margin:0;font-size:2.5rem;font-weight:700;">-</h2>
            <p style="margin:8px 0 0 0;font-size:0.85rem;opacity:0.8;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ù‡∏∂‡∏Å‡∏™‡∏≠‡∏ô</p>
          </div>
          <div style="font-size:3rem;opacity:0.5;">üë•</div>
        </div>
      </div>

      <!-- Completed Evaluations -->
      <div class="card" style="background:linear-gradient(135deg, #FBB425 0%, #f59e0b 100%);color:white;border:none;">
        <div style="display:flex;justify-content:space-between;align-items:start;">
          <div>
            <p style="margin:0 0 8px 0;font-size:0.9rem;opacity:0.9;">‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</p>
            <h2 id="completedEvaluationsCount" style="margin:0;font-size:2.5rem;font-weight:700;">-</h2>
            <p style="margin:8px 0 0 0;font-size:0.85rem;opacity:0.8;">‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</p>
          </div>
          <div style="font-size:3rem;opacity:0.5;">‚úÖ</div>
        </div>
      </div>

      <!-- Completion Rate -->
      <div class="card" style="background:linear-gradient(135deg, #8B5CF6 0%, #7c3aed 100%);color:white;border:none;">
        <div style="display:flex;justify-content:space-between;align-items:start;">
          <div>
            <p style="margin:0 0 8px 0;font-size:0.9rem;opacity:0.9;">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p>
            <h2 id="completionRate" style="margin:0;font-size:2.5rem;font-weight:700;">-</h2>
            <p style="margin:8px 0 0 0;font-size:0.85rem;opacity:0.8;">‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö</p>
          </div>
          <div style="font-size:3rem;opacity:0.5;">üìä</div>
        </div>
      </div>
    </div>

    <!-- Active Observations List -->
    <div class="card" style="margin-bottom:24px;">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
        <h3 style="margin:0;color:var(--color-text);display:flex;align-items:center;gap:10px;">
          <span>üìã</span>
          ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£
        </h3>
        <a href="/dashboard/admin/observations" class="btn btn--primary btn--sm">
          ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí
        </a>
      </div>
      <div id="activeObservationsList">
        <div style="text-align:center;padding:40px;color:var(--color-muted);">
          <div class="loading-spinner" style="margin:0 auto 16px;"></div>
          <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
        </div>
      </div>
    </div>

    <!-- Recent Activity -->
    <div class="card" style="margin-bottom:24px;">
      <h3 style="margin:0 0 20px 0;color:var(--color-text);display:flex;align-items:center;gap:10px;">
        <span>üîî</span>
        ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
      </h3>
      <div id="recentActivity">
        <div style="padding:12px;background:var(--color-bg);border-radius:8px;margin-bottom:12px;">
          <div style="display:flex;gap:12px;">
            <span style="font-size:1.5rem;">üìù</span>
            <div style="flex:1;">
              <p style="margin:0 0 4px 0;font-weight:500;">‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
              <p style="margin:0;font-size:0.85rem;color:var(--color-muted);">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
            </div>
            <span style="font-size:0.85rem;color:var(--color-muted);">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="dashboard-grid">
      <a href="/dashboard/admin/observations" style="text-decoration:none;">
        <div class="dashboard-card" style="cursor:pointer;transition:transform .2s ease;">
          <div class="card-icon" style="background:rgba(46, 48, 148, 0.1);color:#2E3094;">üëÅÔ∏è‚Äçüó®Ô∏è</div>
          <h4 style="margin:12px 0 8px 0;color:var(--color-text);">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏</h4>
          <p style="margin:0;color:var(--color-muted);font-size:0.9rem;">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏</p>
        </div>
      </a>

      <a href="/dashboard/admin/users" style="text-decoration:none;">
        <div class="dashboard-card" style="cursor:pointer;transition:transform .2s ease;">
          <div class="card-icon" style="background:rgba(59, 130, 246, 0.1);color:#3B82F6;">üë•</div>
          <h4 style="margin:12px 0 8px 0;color:var(--color-text);">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</h4>
          <p style="margin:0;color:var(--color-muted);font-size:0.9rem;">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå</p>
        </div>
      </a>

      <a href="/dashboard/admin/reports" style="text-decoration:none;">
        <div class="dashboard-card" style="cursor:pointer;transition:transform .2s ease;">
          <div class="card-icon" style="background:rgba(251, 180, 37, 0.1);color:#FBB425;">üìä</div>
          <h4 style="margin:12px 0 8px 0;color:var(--color-text);">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•</h4>
          <p style="margin:0;color:var(--color-muted);font-size:0.9rem;">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏</p>
        </div>
      </a>

      <a href="/dashboard/admin/system" style="text-decoration:none;">
        <div class="dashboard-card" style="cursor:pointer;transition:transform .2s ease;">
          <div class="card-icon" style="background:rgba(139, 92, 246, 0.1);color:#8B5CF6;">‚öôÔ∏è</div>
          <h4 style="margin:12px 0 8px 0;color:var(--color-text);">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</h4>
          <p style="margin:0;color:var(--color-muted);font-size:0.9rem;">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö</p>
        </div>
      </a>
    </div>

    <script>
      // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö
      async function loadAdminDashboard() {
        try {
          const response = await fetch('/api/observations');
          const result = await response.json();
          
          if (result.success) {
            const observations = result.observations;
            const activeObs = observations.filter(o => o.status === 'active');
            
            let totalStudents = 0;
            let completedEvaluations = 0;
            
            activeObs.forEach(obs => {
              totalStudents += obs.totalStudents || 0;
              completedEvaluations += obs.completedEvaluations || 0;
            });
            
            const completionRate = totalStudents > 0 
              ? Math.round((completedEvaluations / totalStudents) * 100) 
              : 0;
            
            document.getElementById('activeObservationsCount').textContent = activeObs.length;
            document.getElementById('totalStudentsCount').textContent = totalStudents;
            document.getElementById('completedEvaluationsCount').textContent = completedEvaluations;
            document.getElementById('completionRate').textContent = completionRate + '%';
            
            renderActiveObservations(activeObs);
          }
        } catch (error) {
          console.error('Error loading admin dashboard:', error);
          document.getElementById('activeObservationsCount').textContent = '0';
          document.getElementById('totalStudentsCount').textContent = '0';
          document.getElementById('completedEvaluationsCount').textContent = '0';
          document.getElementById('completionRate').textContent = '0%';
        }
      }
      
      function renderActiveObservations(observations) {
        const container = document.getElementById('activeObservationsList');
        
        if (observations.length === 0) {
          container.innerHTML = `
            <div style="text-align:center;padding:40px;color:var(--color-muted);">
              <div style="font-size:3rem;margin-bottom:16px;">üìã</div>
              <p style="margin:0;">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</p>
              <a href="/dashboard/admin/observations" class="btn btn--primary" style="margin-top:16px;">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏∏‡πÉ‡∏´‡∏°‡πà</a>
            </div>
          `;
          return;
        }
        
        container.innerHTML = observations.slice(0, 5).map(obs => {
          const progress = obs.totalStudents > 0 
            ? Math.round((obs.completedEvaluations / obs.totalStudents) * 100) 
            : 0;
          
          return `
            <div style="padding:16px;border:1px solid var(--color-border);border-radius:8px;margin-bottom:12px;">
              <div style="display:flex;justify-content:space-between;align-items:start;margin-bottom:12px;">
                <div>
                  <h4 style="margin:0 0 4px 0;color:var(--color-text);">${obs.name}</h4>
                  <p style="margin:0;font-size:0.85rem;color:var(--color-muted);">
                    üìÖ ${obs.startDate} - ${obs.endDate} | üéì ‡∏õ‡∏µ ${obs.yearLevel} | üë• ${obs.totalStudents} ‡∏Ñ‡∏ô
                  </p>
                </div>
                <span class="status-badge active">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span>
              </div>
              <div style="margin-top:12px;">
                <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;">
                  <span style="font-size:0.85rem;color:var(--color-muted);">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤</span>
                  <span style="font-size:0.85rem;font-weight:500;color:var(--color-text);">${progress}%</span>
                </div>
                <div style="width:100%;height:8px;background:var(--color-bg);border-radius:4px;overflow:hidden;">
                  <div style="width:${progress}%;height:100%;background:linear-gradient(90deg, #16A34A, #22c55e);transition:width 0.3s ease;"></div>
                </div>
              </div>
            </div>
          `;
        }).join('');
        
        if (observations.length > 5) {
          container.innerHTML += `
            <div style="text-align:center;padding:16px;">
              <a href="/dashboard/admin/observations" class="btn btn--secondary">‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (${observations.length})</a>
            </div>
          `;
        }
      }
      
      document.addEventListener('DOMContentLoaded', loadAdminDashboard);
    </script>

  <% } else { %>
    <!-- =====================================================
         STUDENT DASHBOARD - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Firebase ‡∏à‡∏£‡∏¥‡∏á
         ===================================================== -->
    
    <!-- ‡πÇ‡∏´‡∏•‡∏î CSS ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ -->
    <link rel="stylesheet" href="/css/student-home.css">
    
    <!-- Container ‡∏´‡∏•‡∏±‡∏Å - ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å populate ‡πÇ‡∏î‡∏¢ JavaScript -->
    <div id="studentDashboardContent">
      <!-- Loading state -->
      <div class="loading-container">
        <div class="loading-spinner"></div>
        <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>
      </div>
    </div>
    
    <!-- Greeting Section (‡∏à‡∏∞‡∏ñ‡∏π‡∏Å render ‡πÇ‡∏î‡∏¢ JS) -->
    <div id="greetingSection"></div>
    
    <!-- Active Observation Section -->
    <div id="activeObservationSection"></div>
    
    <!-- Practice History Section -->
    <div id="practiceHistorySection"></div>
    
    <!-- Evaluation Summary Section -->
    <div id="evaluationSummarySection"></div>
    
    <!-- Lesson Plans Section (‡∏õ‡∏µ 2-3 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô) -->
    <div id="lessonPlansSection"></div>
    
    <!-- Quick Access Menu -->
    <div class="quick-access-grid" id="quickAccessSection">
      <a href="/dashboard/school-info" class="quick-access-card">
        <div class="quick-access-icon" style="background:rgba(46, 48, 148, 0.1);color:#2E3094;">üè´</div>
        <h4 class="quick-access-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h4>
        <p class="quick-access-desc">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ù‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå</p>
      </a>

      <a href="/dashboard/mentor-info" class="quick-access-card">
        <div class="quick-access-icon" style="background:rgba(59, 130, 246, 0.1);color:#3B82F6;">üë®‚Äçüè´</div>
        <h4 class="quick-access-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏π‡∏û‡∏µ‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</h4>
        <p class="quick-access-desc">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤</p>
      </a>

      <a href="/dashboard/evaluation" class="quick-access-card">
        <div class="quick-access-icon" style="background:rgba(22, 163, 74, 0.1);color:#16A34A;">üìù</div>
        <h4 class="quick-access-title">‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h4>
        <p class="quick-access-desc">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà</p>
      </a>

      <a href="/dashboard/history" class="quick-access-card">
        <div class="quick-access-icon" style="background:rgba(251, 180, 37, 0.1);color:#FBB425;">üìã</div>
        <h4 class="quick-access-title">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h4>
        <p class="quick-access-desc">‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</p>
      </a>
    </div>

    <!-- Stats Section -->
    <div id="statsSection"></div>

    <!-- ‡πÇ‡∏´‡∏•‡∏î JavaScript ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ -->
    <script src="/js/student-home.js"></script>
    
  <% } %>
</div>

<style>
  /* Common styles */
  .dashboard-card:hover{
    transform:translateY(-2px);
    box-shadow:0 4px 12px rgba(0,0,0,0.08);
  }
  
  .loading-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--color-border);
    border-top-color: var(--color-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 16px;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }
</style>
