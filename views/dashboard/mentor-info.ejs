<div class="page-content">
  <div class="card">
    <h2 style="margin-top:0;color:var(--color-primary);display:flex;align-items:center;gap:12px">
      <span>üë®‚Äçüè´</span>
      ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏π‡∏û‡∏µ‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á
    </h2>
    <p class="text-muted">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏Ñ‡∏£‡∏π‡∏û‡∏µ‡πà‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</p>

    <form class="dashboard-form" style="margin-top:24px">
      <!-- Personal Information -->
      <div class="form-section">
        <h3 class="form-section-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</h3>
        
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
          <div class="form-group">
            <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠ <span class="required">*</span></label>
            <input type="text" class="form-input" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠" required>
          </div>
          <div class="form-group">
            <label class="form-label">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span class="required">*</span></label>
            <input type="text" class="form-input" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" required>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">‡∏ß‡∏¥‡∏ó‡∏¢‡∏ê‡∏≤‡∏ô‡∏∞ <span class="required">*</span></label>
          <select class="form-input" required>
            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ó‡∏¢‡∏ê‡∏≤‡∏ô‡∏∞</option>
            <option value="‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢">‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢</option>
            <option value="‡∏Ñ‡∏£‡∏π (‡∏Ñ‡∏®.1)">‡∏Ñ‡∏£‡∏π (‡∏Ñ‡∏®.1)</option>
            <option value="‡∏Ñ‡∏£‡∏π‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç‡∏Å‡∏≤‡∏£ (‡∏Ñ‡∏®.2)">‡∏Ñ‡∏£‡∏π‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç‡∏Å‡∏≤‡∏£ (‡∏Ñ‡∏®.2)</option>
            <option value="‡∏Ñ‡∏£‡∏π‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏Ñ‡∏®.3)">‡∏Ñ‡∏£‡∏π‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏Ñ‡∏®.3)</option>
            <option value="‡∏Ñ‡∏£‡∏π‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç (‡∏Ñ‡∏®.4)">‡∏Ñ‡∏£‡∏π‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç (‡∏Ñ‡∏®.4)</option>
            <option value="‡∏Ñ‡∏£‡∏π‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏Ñ‡∏®.5)">‡∏Ñ‡∏£‡∏π‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏û‡∏¥‡πÄ‡∏®‡∏© (‡∏Ñ‡∏®.5)</option>
          </select>
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
          <div class="form-group">
            <label class="form-label">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
            <input type="tel" class="form-input" placeholder="0X-XXXX-XXXX">
          </div>
          <div class="form-group">
            <label class="form-label">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
            <input type="email" class="form-input" placeholder="mentor@nsru.ac.th">
          </div>
        </div>
      </div>

      <!-- Education -->
      <div class="form-section">
        <h3 class="form-section-title">‡∏ß‡∏∏‡∏í‡∏¥‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h3>
        
        <div id="educationContainer">
          <div class="education-entry" style="display:flex;gap:8px;align-items:flex-end;margin-bottom:12px">
            <div class="form-group" style="flex:1;margin:0">
              <label class="form-label">‡∏ß‡∏∏‡∏í‡∏¥‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
              <input type="text" class="form-input education-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ.‡∏ö. ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤">
            </div>
            <button type="button" class="btn btn--danger btn--icon" onclick="removeEducation(this)" style="padding:10px 16px">
              ‚úï
            </button>
          </div>
        </div>
        
        <button type="button" class="btn btn--secondary" onclick="addEducation()" style="margin-top:8px">
          ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏∏‡∏í‡∏¥‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤
        </button>
      </div>

      <!-- Teaching Experience -->
      <div class="form-section">
        <h3 class="form-section-title">‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô</h3>
        
        <div class="form-group">
          <label class="form-label">‡∏≠‡∏≤‡∏¢‡∏∏‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ / ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô (‡∏õ‡∏µ)</label>
          <input type="number" class="form-input" placeholder="0" min="0" max="50">
        </div>

        <div class="form-group">
          <label class="form-label">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î</label>
          <select class="form-input">
            <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞</option>
            <option value="‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢">‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</option>
            <option value="‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå">‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</option>
            <option value="‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ">‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ</option>
            <option value="‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°">‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°</option>
            <option value="‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤">‡∏™‡∏∏‡∏Ç‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏û‡∏•‡∏®‡∏∂‡∏Å‡∏©‡∏≤</option>
            <option value="‡∏®‡∏¥‡∏•‡∏õ‡∏∞">‡∏®‡∏¥‡∏•‡∏õ‡∏∞</option>
            <option value="‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û">‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</option>
            <option value="‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®">‡∏†‡∏≤‡∏©‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®</option>
          </select>
        </div>
      </div>

      <!-- Teaching Subjects & Grades -->
      <div class="form-section">
        <h3 class="form-section-title">‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ô / ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</h3>
        
        <div class="form-group">
          <label class="form-label">‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ô</label>
          <div class="teaching-input">
            <input type="text" 
                   id="teachingDisplay" 
                   class="form-input" 
                   placeholder="‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô" 
                   readonly 
                   style="cursor:pointer"
                   onclick="openTeachingModal()">
            <button type="button" 
                    class="teaching-btn" 
                    onclick="openTeachingModal()"
                    style="position:absolute;right:8px;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--color-primary);cursor:pointer;font-size:1.2rem">
              ‚öôÔ∏è
            </button>
          </div>
          <div id="teachingTags" class="teaching-tags" style="margin-top:8px;display:flex;flex-wrap:wrap;gap:6px"></div>
        </div>
      </div>

      <div class="form-actions" style="margin-top:32px;display:flex;gap:12px">
        <button type="submit" class="btn btn--primary">
          üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        </button>
        <button type="reset" class="btn btn--secondary">
          üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Teaching Subject & Grade Selection Modal -->
<div id="teachingModal" class="modal-overlay" style="display:none">
  <div class="modal-content">
    <div class="modal-header">
      <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ô</h3>
      <button type="button" class="modal-close" onclick="closeTeachingModal()">√ó</button>
    </div>
    
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤</label>
        <input type="text" id="subjectNameInput" class="form-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô">
      </div>

      <div class="teaching-selection">
        <h4 style="margin:16px 0 12px 0;color:var(--color-text)">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏ô‡∏µ‡πâ</h4>
        <div class="grade-category">
          <h4>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ö‡∏≤‡∏•</h4>
          <div class="checkbox-grid">
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏≠.1">
              <span>‡∏≠.1</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏≠.2">
              <span>‡∏≠.2</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏≠.3">
              <span>‡∏≠.3</span>
            </label>
          </div>
        </div>
        <div class="grade-category">
          <h4>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ñ‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h4>
          <div class="checkbox-grid">
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏õ.1">
              <span>‡∏õ.1</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏õ.2">
              <span>‡∏õ.2</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏õ.3">
              <span>‡∏õ.3</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏õ.4">
              <span>‡∏õ.4</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏õ.5">
              <span>‡∏õ.5</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏õ.6">
              <span>‡∏õ.6</span>
            </label>
          </div>
        </div>

        <div class="grade-category">
          <h4>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏ï‡πâ‡∏ô</h4>
          <div class="checkbox-grid">
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏°.1">
              <span>‡∏°.1</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏°.2">
              <span>‡∏°.2</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏°.3">
              <span>‡∏°.3</span>
            </label>
          </div>
        </div>

        <div class="grade-category">
          <h4>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏±‡∏ò‡∏¢‡∏°‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡∏≠‡∏ô‡∏õ‡∏•‡∏≤‡∏¢</h4>
          <div class="checkbox-grid">
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏°.4">
              <span>‡∏°.4</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏°.5">
              <span>‡∏°.5</span>
            </label>
            <label class="checkbox-item">
              <input type="checkbox" value="‡∏°.6">
              <span>‡∏°.6</span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn--secondary" onclick="closeTeachingModal()">
        ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å
      </button>
      <button type="button" class="btn btn--primary" onclick="addTeachingSubject()">
        ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏ä‡∏≤
      </button>
    </div>
  </div>
</div>

<style>
.form-section {
  margin-bottom: 32px;
  padding-bottom: 24px;
  border-bottom: 1px solid var(--color-border);
}

.form-section:last-of-type {
  border-bottom: none;
  margin-bottom: 0;
}

.form-section-title {
  color: var(--color-primary);
  font-size: 1.2rem;
  font-weight: 600;
  margin: 0 0 20px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.form-section-title::before {
  content: '';
  width: 4px;
  height: 20px;
  background: var(--color-primary);
  border-radius: 2px;
}

.required {
  color: var(--color-danger);
  font-weight: 600;
}

.teaching-input {
  position: relative;
}

.teaching-btn {
  transition: color 0.2s ease;
}

.teaching-btn:hover {
  color: var(--color-secondary) !important;
}

.teaching-tags {
  min-height: 20px;
}

.teaching-tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--color-primary);
  color: white;
  padding: 6px 12px;
  border-radius: 12px;
  font-size: 0.85rem;
  font-weight: 500;
}

.teaching-tag-remove {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  font-size: 0.9rem;
  padding: 0;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s ease;
}

.teaching-tag-remove:hover {
  background: rgba(255, 255, 255, 0.2);
}

.btn--icon {
  padding: 10px 16px;
  min-width: auto;
}

.btn--danger {
  background: var(--color-danger);
  color: white;
}

.btn--danger:hover {
  background: #c0392b;
}

/* Modal Styles */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background: var(--color-surface);
  border-radius: 12px;
  width: 90%;
  max-width: 600px;
  max-height: 80vh;
  overflow-y: auto;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 24px;
  border-bottom: 1px solid var(--color-border);
}

.modal-header h3 {
  margin: 0;
  color: var(--color-text);
  font-size: 1.25rem;
}

.modal-close {
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: var(--color-muted);
  padding: 4px;
  border-radius: 4px;
  transition: color 0.2s ease;
}

.modal-close:hover {
  color: var(--color-danger);
}

.modal-body {
  padding: 24px;
}

.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding: 20px 24px;
  border-top: 1px solid var(--color-border);
}

.grade-category {
  margin-bottom: 24px;
}

.grade-category h4 {
  color: var(--color-text);
  font-size: 1rem;
  font-weight: 600;
  margin: 0 0 12px 0;
}

.checkbox-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
  gap: 8px;
}

.checkbox-item {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border: 1px solid var(--color-border);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 0.9rem;
}

.checkbox-item:hover {
  border-color: var(--color-primary);
  background: var(--color-bg);
}

.checkbox-item input[type="checkbox"] {
  margin: 0;
}

.checkbox-item input[type="checkbox"]:checked + span {
  color: var(--color-primary);
  font-weight: 600;
}

.btn--secondary {
  background: var(--color-muted);
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 500;
  transition: background 0.2s ease;
}

.btn--secondary:hover {
  background: var(--color-text);
}
</style>

<script>
let teachingSubjects = [];

// Education Management
function addEducation() {
  const container = document.getElementById('educationContainer');
  const entry = document.createElement('div');
  entry.className = 'education-entry';
  entry.style.cssText = 'display:flex;gap:8px;align-items:flex-end;margin-bottom:12px';
  entry.innerHTML = `
    <div class="form-group" style="flex:1;margin:0">
      <input type="text" class="form-input education-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ.‡∏ö. ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤">
    </div>
    <button type="button" class="btn btn--danger btn--icon" onclick="removeEducation(this)" style="padding:10px 16px">
      ‚úï
    </button>
  `;
  container.appendChild(entry);
}

function removeEducation(btn) {
  const entries = document.querySelectorAll('.education-entry');
  if (entries.length > 1) {
    btn.closest('.education-entry').remove();
  }
}

// Teaching Modal
function openTeachingModal() {
  document.getElementById('teachingModal').style.display = 'flex';
  document.getElementById('subjectNameInput').value = '';
  document.querySelectorAll('#teachingModal input[type="checkbox"]').forEach(cb => cb.checked = false);
}

function closeTeachingModal() {
  document.getElementById('teachingModal').style.display = 'none';
}

function addTeachingSubject() {
  const subjectName = document.getElementById('subjectNameInput').value.trim();
  if (!subjectName) {
    alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡∏ä‡∏≤');
    return;
  }

  const selectedGrades = [];
  document.querySelectorAll('#teachingModal input[type="checkbox"]:checked').forEach(cb => {
    selectedGrades.push(cb.value);
  });

  if (selectedGrades.length === 0) {
    alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏∞‡∏î‡∏±‡∏ö');
    return;
  }

  // Sort grades properly
  selectedGrades.sort((a, b) => {
    const order = ch => {
      if (ch === '‡∏≠') return 0;
      if (ch === '‡∏õ') return 1;
      if (ch === '‡∏°') return 2;
      return 3;
    };
    const aChar = a.charAt(0);
    const bChar = b.charAt(0);
    const aOrder = order(aChar);
    const bOrder = order(bChar);
    if (aOrder !== bOrder) return aOrder - bOrder;

    const aNum = parseInt(a.replace(/[^0-9]/g, '')) || 0;
    const bNum = parseInt(b.replace(/[^0-9]/g, '')) || 0;
    return aNum - bNum;
  });

  teachingSubjects.push({
    subject: subjectName,
    grades: selectedGrades
  });

  updateTeachingDisplay();
  closeTeachingModal();
}

function updateTeachingDisplay() {
  const display = document.getElementById('teachingDisplay');
  const tagsContainer = document.getElementById('teachingTags');
  
  display.value = teachingSubjects.length > 0 
    ? `‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß ${teachingSubjects.length} ‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤` 
    : '';
  
  tagsContainer.innerHTML = '';
  teachingSubjects.forEach((item, index) => {
    const tag = document.createElement('span');
    tag.className = 'teaching-tag';
    tag.innerHTML = `
      <strong>${item.subject}</strong> (${item.grades.join(', ')})
      <button type="button" class="teaching-tag-remove" onclick="removeTeachingSubject(${index})">√ó</button>
    `;
    tagsContainer.appendChild(tag);
  });
}

function removeTeachingSubject(index) {
  teachingSubjects.splice(index, 1);
  updateTeachingDisplay();
}

// Close modal when clicking outside
document.addEventListener('DOMContentLoaded', function() {
  const modal = document.getElementById('teachingModal');
  if (modal) {
    modal.addEventListener('click', function(e) {
      if (e.target === this) {
        closeTeachingModal();
      }
    });
  }
  updateTeachingDisplay();
});
</script>
